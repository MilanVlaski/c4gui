### To do
- [x] Make the relationship arrow simple, dotted, thinner, and straight
- [ ] One click on a component leads to 2 buttons popping up -> "Edit" and "Zoom In". Double click still zooms in.
    - [ ] Get rid of the contenteditable thing
	- [ ] Edit opens up a form that lets us rename. Use an article, according to: https://picocss.com/docs/card
	- [ ] Zoom In zooms in, same as the double click
	- [ ] Consider adding "Pan" button, which will allow dragging the elements around
	- [ ] The buttons should have icons. Use FontAwesome.
- [ ] Create tree on the left, for pulling in reusable elements (from higher views).
	- Make sure only elements that come from a higher layer can be placed onto the current diagram.
- [x] Put back button in index.html and style.css, not in script.js
- [ ] "Edit" form
	- Use pico modal or something simple like that
	- Form should have an OK and cancel
	- Form should go away once we click away, like the input does. Can be done with blur event?
- [ ] Add database button to container view
- [ ] Hover over relationship arrow and enable adding text on top of it
### The composition issue
- DiagramElements can contain other DiagramElements, the strictness of which is maintained by the GUI. The relationship can either be an INCLUDE or a CONTAIN, and it applies such that:
	- INCLUDES means the element is included in the view of this element
	- CONTAINS means the element is contained within this element, which of course, makes it visible too
	- When an element is added, to a diagram (or element), that element will CONTAIN that element, if it belongs to the layer below it, and it will INCLUDE it, if it belongs to the layer above. 
	- For C4:
	-  a CONTAINED element must be only 1 layer below
	- an INCLUDED element must come only from higher layers
- Therefore, each DiagramElement can include or contain elements. When an element is added to it, it must check that element's layer (1 2 3 4) to see if it should include or contain it. This is kept in a "composition" map, with an id, type of relationship.
- The purpose of this all is to be able to avoid duplicates when creating the final serialized model.
---
#### Model
- [ ] Tree on the left with currently existing elements
	- [ ] Drag and drop elements. Important, to promote reuse.
	- [ ] Delete an element.
- [ ] Right click delete an element.
#### GUI Improvements Graveyard
- [ ] Copy styling of structurizr (use a ruler to find out proportions)
- [ ] On hover attributes are important, because most people draw diagrams on a PC.
- [ ] After watching CSS tutorial, make your own styling.
- [ ] Make relationship straight, dotted, and thin.
- [ ] Cursor changes when button to add an element is clicked
- [ ] Connecting doesn't work on mobile. Events don't propagate correctly.
	- [ ] Fix the mobile connecting problem by having the same handler for both mouse and touch.
#### Solved
- [z] Prepare changes by making SystemContext a rootelement
- [z] Add logic so that `redrawElements` takes DiagramElement as a parameter, and redraws only those elements
	- [x] Must add elements to the proper DiagramElement. This can be done when adding, just call to `currentElement.addElement()`
- [x] ContentEditable default behavior sucks. Come up with a better solution. Solved by doing an input.
- [x] Add elements to an in memory model
	- [x] Enforce name uniqueness by taking the name of the element, and adding a number.
		- [x] Number should be counted, probably by the "model"
		- [x] Each HTML element should have same id as model name 
	- [x] Prevent duplicates. Elements should have unique names.
- [x] Editing the ~~contentEditable~~ displayName of an element should propagate to the model, and a rename should be attempted.
- [x] Prevent duplicate relationships
	- [x] First, store relationships
	- [x] They should belong to a systemContext, for now, because that's important for later segregation
	- [x] A relationship is therefore unique in a system context, the key being the two elements connected
- [x] Don't draw leaderline while pointer is down over the pointered down element.
- [x] Put structurizr example on this laptop
- [x] See what types of elements there are at the "context" level
- [x] Display a header signifying that this is the System Context view
- [x] When an element pressed is being pressed, ie being connected to another element, draw a simple dotted line from the element to the pointer
	- [x] Either do this with leaderline and a Draggable invisible element
	- [x] Or with a primitive dotted line
	- [x] Should be visible while in "ConnectingState"
- [x] Create a person, shaped with CSS.
	- [x]Add button to add a user
- [ ] Stop drawing temp arrow while pointer is inside the element 
- [x] Connect person with software system
- [x] Connect two software systems
    - [x] Go into connecting state on pointerdown
- [x] Have a leaderline between mouse pointer and the object that was clicked. Good for UX, but don't know how to do.
